<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="ThemeBucket">
    <link rel="shortcut icon" href="#" type="image/png">

    <title>公积金基本信息</title>
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/style-responsive.css" rel="stylesheet">
    <link href="../css/index.css" rel="stylesheet">
    <link href="../css/buttons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../js/js.cookie.js"></script>
    <script src="../js/jquery.nicescroll.js"></script>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="../js/html5shiv.js"></script>
    <script src="../js/respond.min.js"></script>
    <![endif]-->
    <style>
        .bg {
            width: 425px;
            height: 650px;
            background-color: rgb(243, 242, 247);
            position: absolute;
            top: 32%;
            left: 50%;
            transform: translate(-51.6%, -29.9%);
            color: #dcdcdc;
        }
        .css-live-wrap-ztl {
            position: absolute;
            top: 0%;
            left: 30%;
            transform: translate(-30%, -50%);
        }

        .sjk123 {
            width: 700px;
            height: 1200px;
            background-image: url("../images/手机壳1.png");
            background-repeat: no-repeat;
            background-size: cover;
            -moz-background-size: cover;
            -webkit-background-size: cover;
            position: absolute;
            top: 34%;
            left: 50%;
            transform: translate(-50%, -30%);
        }

    </style>
</head>

<body style="background:none">
<div class="sjk123">
    <div class="bg">
        <img src="../images/资源 79.png" class="css-live-wrap-ztl"
             style="height: 50px; width: 425px; top: 4%; transform: translate(-29.5%, -53%);">
        <a href="sqjl.html"><img src="../images/资源 80.png" class="css-live-wrap-ztl"
                                 style="height: 20px; width: 20px; left: 5%; top: 4% "></a>
        <text class="css-live-wrap-ztl" style="font-size: 20px; left: 11%; top: 4%; transform: translate(-30%, -60%);">
            |
        </text>
        <text class="css-live-wrap-ztl"
              style="font-size: 22px; left: 24%; top: 4%; transform: translate(-30%, -50%); color: #0099FF">公积金基本信息
        </text>
        <div class="panel-group "  style="padding-top: 12%">
            <div class="panel panel-default" id="viewportdiv" style="height:634px">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" onclick="hide(0)" style="font-size: 20px">账户基本信息</a>
                    </h4>
                </div>
                <div id="collapse1" class="panel-collapse collapse">
                    <ul class="list-group" id="scroll"  style="height: 545px;font-size: 18px;color:black">
                        <li class="list-group-item" id="user_name">姓名</li>
                        <li class="list-group-item" id="gender">性别：</li>
                        <li class="list-group-item" id="user_idcard">身份证号</li>
                        <li class="list-group-item" id="jg_type">机构类型</li>
                        <li class="list-group-item" id="balance">当前账户余额</li>
                        <li class="list-group-item" id="customer_id">公积金帐号</li>
                        <li class="list-group-item" id="status">账户状态</li>
                        <li class="list-group-item" id="company">当前缴存单位</li>
                        <li class="list-group-item" id="corp_type">缴存单位性质</li>
                        <li class="list-group-item" id="corp_scale">缴存单位规模</li>
                    </ul>
                </div>
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" onclick="hide(1)"  style="font-size: 20px">账户详细信息</a>
                    </h4>
                </div>
                <div id="collapse2" class="panel-collapse collapse">
                    <ul class="list-group" id="scroll2" style="height: 545px;font-size: 18px;color:black">
                        <li class="list-group-item" id="deposit_amount">当前缴存金额</li>
                        <li class="list-group-item" id="last_record_date">最近一次缴存时间</li>
                        <li class="list-group-item" id="continuous_deposit_month">最长缴存月份</li>
                        <li class="list-group-item" id="last_deposit_month">最近连续缴存月份</li>
                        <li class="list-group-item" id="begin_handin_date">开始缴存日期</li>
                        <li class="list-group-item" id="monthly_income">预计月收入(元)</li>
                        <li class="list-group-item" id="flow_count">累计流水条数</li>
                        <li class="list-group-item" id="current_corp_continuous_deposit_month">当前公司连续缴存月份(预估)</li>
                        <li class="list-group-item" id="loan_count">公积金贷款笔数</li>
                        <li class="list-group-item" id="loan_repay_amount">公积金贷款月还款金额(元)</li>
                        <li class="list-group-item" id="deposit_rate">当前缴存比例</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</div>
</div>


</body>
</html>
<script>
    function getQueryString(name) {
        var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
        var r = window.location.search.substr(1).match(reg);
        if (r != null) {
            return decodeURI(r[2]);
        }
        return null;
    }
    $(function() {
        $("#scroll").niceScroll();
        $("#scroll2").niceScroll();
        $.post("http://202.120.32.247:54324/api/v1.0/personal/self/report/credit", {
            "mobile": Cookies.get("mobile"),
            "token": Cookies.get("token"),
            "srctype": "FUND",
            "task_id": getQueryString("task_id")
        })
            .done(function (result) {
                if (result.report != null) {
                    res =result.report.report;
                    res = res[0].data;
                    res = res[0];
                    document.getElementById("user_name").innerHTML="姓名:&emsp;&emsp;&emsp;&emsp;&emsp;"+res.user_name;
                    document.getElementById("user_idcard").innerHTML="身份证号:&emsp;&emsp;&emsp;"+res.user_idcard;
                    document.getElementById("jg_type").innerHTML="机构类型:&emsp;&emsp;&emsp;";
                    document.getElementById("balance").innerHTML="当前账户余额:&emsp;"+parseFloat(res.balance)*0.01.toFixed(2);
                    document.getElementById("customer_id").innerHTML="公积金帐号:&emsp;&emsp;"+res.customer_id;
                    document.getElementById("status").innerHTML="账户状态:&emsp;&emsp;&emsp;"+res.status;
                    document.getElementById("company").innerHTML="当前缴存单位:&emsp;"+res.company;
                    document.getElementById("corp_type").innerHTML="缴存单位性质:&emsp;"+res.corp_type;
                    document.getElementById("corp_scale").innerHTML="缴存单位规模:&emsp;"+res.corp_scale;

                    document.getElementById("deposit_amount").innerHTML="当前缴存金额:&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;"+parseFloat(res.deposit_amount*0.01).toFixed(2);
                    document.getElementById("last_record_date").innerHTML="最近一次缴存时间:&emsp;&emsp;&emsp;&emsp;&emsp;"+res.last_record_date;
                    document.getElementById("continuous_deposit_month").innerHTML="最长缴存月份:&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;"+res.continuous_deposit_month;
                    document.getElementById("last_deposit_month").innerHTML="最近连续缴存月份:&emsp;&emsp;&emsp;&emsp;&emsp;"+res.last_deposit_month;
                    document.getElementById("begin_handin_date").innerHTML="开始缴存日期:&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;"+res.begin_handin_date;
                    document.getElementById("monthly_income").innerHTML="预计月收入(元):&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp;"+parseFloat(res.monthly_income*0.01).toFixed(2);
                    document.getElementById("flow_count").innerHTML="累计流水条数:&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;"+res.flow_count;
                    document.getElementById("current_corp_continuous_deposit_month").innerHTML="当前公司连续缴存月份(预估):&nbsp;"+res.current_corp_continuous_deposit_month;
                    document.getElementById("loan_count").innerHTML="公积金贷款笔数:&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;"+res.loan_count;
                    document.getElementById("loan_repay_amount").innerHTML="公积金贷款月还款金额(元):&emsp;&nbsp;"+res.loan_repay_amount;
                    document.getElementById("deposit_rate").innerHTML="当前缴存比例:&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;"+res.deposit_rate;
                }
                else{
                    alert('no report avaiable!');
                }
            });

    });
    function hide(flag) {
        if(flag==1){
            $("#collapse1").hide();
            $("#collapse2").show();
        }
        if(flag==0){
            $("#collapse1").show();
            $("#collapse2").hide();
        }
    }
    hide(0);
</script>
